<!DOCTYPE html>
<html ng-app="restApiTester">
<head>
	<!-- Viewport mobile tag for sensible mobile support -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<title>REST API testing tool</title>
	<link href='http://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css' rel='stylesheet'
	      type='text/css'>

	<!--STYLES-->
	<link rel="stylesheet" href="/styles/vendor/foundation/foundation-flex.css">
	<link rel="stylesheet" href="/styles/vendor/foundation/foundation-datepicker.min.css">
	<link rel="stylesheet" href="/styles/app.css">
	<!--STYLES END-->
</head>

<body ng-controller="ProjectsController as projects" ng-init="projects.initOverview()">
<div class="column no-padding" data-sticky-container>
	<header class="sticky" data-sticky data-options="marginTop:0;" style="width:100%">
		<nav id="main-menu" class="row title-bar">
			<div class="column">
				<ul class="menu">
					<li class="menu-text">
						<ul class="breadcrumbs">
							<li><a ui-sref="projects">Projects</a></li>
							<li ng-show="currentProject.id"><a ui-sref="dashboard({projectId: currentProject.id})">{{currentProject.name}}</a>
							</li>
							<li ng-show="currentEnvironment.id"><a ui-sref="tests({environmentId: currentEnvironment.id})">{{currentEnvironment.name}}</a>
							</li>
							<li ng-repeat="breadcrumb in breadcrumbs"><a ng-href="{{breadcrumb.href}}">{{breadcrumb.label}}</a>
							</li>
							</li>
						</ul>
					</li>
				</ul>
			</div>
		</nav>
	</header>
</div>

<div class="row" id="content">

	<aside class="column no-padding large-2" id="side-menu">
		<div class="user-profile" ng-controller="LoggedUserController as loggedUser">
			<div class="row align-center" ng-show="loggedUser.avatar">
				<img ng-src="{{loggedUser.avatar}}" alt="profile" />
			</div>

			<div class="row align-center">
				<strong>{{loggedUser.name}}</strong>
			</div>
		</div>

		<div class="row">
			<ul class="menu dropdown vertical" data-dropdown-menu>
				<li><a href="javascript:void(0)">{{currentProject.name || "Vyberte projekt"}}</a>
					<ul class="menu">
						<li ng-repeat="project in projects.overview"
						    ng-class="currentProject.id == project.id ? 'active' : ''">
							<a href="javascript:void(0)" ng-click="selectProject(project)">{{project.name}}</a>
						</li>
					</ul>
				</li>
				<li ng-repeat="environment in availableEnvironments"
				    ng-class="currentEnvironment.id == environment.id ? 'active' : ''">
					<a href="javascript:void(0)" ng-click="selectEnvironment(environment, {redirectToTests: true})">{{environment.name}}</a>
				</li>
				<li class="separator"></li>
				<li class="text-center" ng-show="currentEnvironment.apiEndpoint">{{currentEnvironment.apiEndpoint}}</li>
				<li class="separator"></li>
				<li ng-show="currentEnvironment.id">
					<a href="javascript:void(0)"
					   ng-click="tests.runAll(currentEnvironmentId)" class="button success">
						<i class="fi-play"> Run all tests</i>
					</a>
				</li>
				<li class="separator"></li>
			</ul>
		</div>

		<div class="test-results" ng-controller="TestsResultsController as tests">
			<h5 ng-show="tests.results.length" class="text-center">Last tests</h5>

			<ul ng-show="tests.results.length" class="menu vertical">
				<li ng-repeat="result in tests.results">
					<a ui-sref="test_detail({testId: result.test.id})">
						<span class="badge success fi-check"></span>
						{{result.test.name}}
					</a>
				</li>
			</ul>
		</div>
	</aside>

	<%- body %>
</div>


<!--TEMPLATES-->
<script type="text/javascript" src="/jst.js"></script>
<!--TEMPLATES END-->

<!--SCRIPTS-->
<script src="/js/dependencies/jquery.min.js"></script>
<script src="/js/dependencies/angular/angular.min.js"></script>
<script src="/js/dependencies/angular-ui-router/angular-ui-router.min.js"></script>
<script src="/js/dependencies/foundation-datepicker.min.js"></script>
<script src="/js/dependencies/foundation/foundation.js"></script>
<script src="/js/dependencies/foundation/vendor/what-input.min.js"></script>
<script src="/js/dependencies/underscore-min.js"></script>
<script src="/js/rest-api-tester/_init.js"></script>
<script src="/js/rest-api-tester/services/assertions-service.js"></script>
<script src="/js/rest-api-tester/services/authentications-service.js"></script>
<script src="/js/rest-api-tester/services/environments-service.js"></script>
<script src="/js/rest-api-tester/services/headers-service.js"></script>
<script src="/js/rest-api-tester/services/http-parameters-service.js"></script>
<script src="/js/rest-api-tester/services/login-service.js"></script>
<script src="/js/rest-api-tester/services/projects-service.js"></script>
<script src="/js/rest-api-tester/services/registration-service.js"></script>
<script src="/js/rest-api-tester/services/requests-service.js"></script>
<script src="/js/rest-api-tester/services/tests-results-service.js"></script>
<script src="/js/rest-api-tester/services/tests-service.js"></script>
<script src="/js/rest-api-tester/services/versions-service.js"></script>
<script src="/js/app.js"></script>
<script src="/js/rest-api-tester/controllers/assertions-controller.js"></script>
<script src="/js/rest-api-tester/controllers/authentications-controller.js"></script>
<script src="/js/rest-api-tester/controllers/environments-controller.js"></script>
<script src="/js/rest-api-tester/controllers/headers-controller.js"></script>
<script src="/js/rest-api-tester/controllers/logged-user-controller.js"></script>
<script src="/js/rest-api-tester/controllers/login-controller.js"></script>
<script src="/js/rest-api-tester/controllers/projects-controller.js"></script>
<script src="/js/rest-api-tester/controllers/registration-controller.js"></script>
<script src="/js/rest-api-tester/controllers/requests-controller.js"></script>
<script src="/js/rest-api-tester/controllers/tests-controller.js"></script>
<script src="/js/rest-api-tester/controllers/tests-results-controller.js"></script>
<script src="/js/rest-api-tester/controllers/versions-controller.js"></script>
<!--SCRIPTS END-->


</body>
</html>
